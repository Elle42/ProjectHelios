CREATE TABLE CONVERTED_TEXTS (
    id INTEGER PRIMARY KEY,
    text VARCHAR(40),
    cordLeft INTEGER,
    cordTop INTEGER,
	page INTEGER,
	planId INTEGER,
	FOREIGN KEY (planId) REFERENCES FIRE_PLANS(planId)
);

CREATE TABLE FIRE_PLANS (
    planId INTEGER PRIMARY KEY,
    name VARCHAR(40)
);

CREATE GENERATOR GEN_CONVERTED_TEXTS_ID;

CREATE TRIGGER TRG_CONVERTED_TEXTS_BI FOR CONVERTED_TEXTS
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
  IF (NEW.ID IS NULL) THEN
    NEW.ID = GEN_ID(GEN_CONVERTED_TEXTS_ID, 1);
END;

CREATE GENERATOR GEN_PLAN_ID;

CREATE TRIGGER TRG_FIRE_PLANS_BI FOR FIRE_PLANS
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
  IF (NEW.PLANID IS NULL) THEN
    NEW.PLANID = GEN_ID(GEN_PLAN_ID, 1);
END;
